{% extends "layout.html" %}
{% block title %}Surf Spot{% endblock %}
{% block javascript %}
  <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=ABQIAAAA1E1aVA_7eBSfQF1uWFMHNhT2yXp_ZAY8_ufC3CFXhHIE1NvwkxQg59jahIEFQc7e6BIc11G2-_I8hA" 
          type="text/javascript">
  </script>
  <script src="/static/js/gmaps.js" type="text/javascript"></script>
{% endblock %}

{% block body %}
  <body onload="initialize({{ spot.loc[1] }}, {{ spot.loc[0] }}, '{{ spot.name }}', 'spot')">
  <h2>Surf Spot</h2>

  <form action="" method=post>
    <dl>
      <dt>Name:
      <dd><input type=text name=name size=30 value="{{ spot.name }}">
      <dt>Longitude:
      <dd><input type=text name=longitude size=30 value="{{ spot.loc[0] }}">
      <dt>Latitude:
      <dd><input type=text name=latitude size=30 value="{{ spot.loc[1] }}">
      <dt>Buoy:
      <dd>{{ spot.buoy._id|default('No buoy assigned') }}
        <input type=hidden name=buoy_id value="{{ spot.buoy._id }}">
      <dt>Description:
      <dd><textarea cols=50 rows=6 name=description>{{ spot.description }}</textarea>
    </dl>
    <div class=actions><input type=submit value="Submit"></div>
  </form>
  <div id="map_canvas" style="width: 500px; height: 300px"></div>
  </body>
{% endblock %}
