{% extends "layout.html" %}
{% block title %}Surf Spot{% endblock %}
{% block javascript %}
  <script type="text/javascript"
      src="http://maps.google.com/maps/api/js?sensor=false">
  </script>
  <script type="text/javascript">
    function initialize() {
      var latlng = new google.maps.LatLng(-34.397, 150.644);
      var myOptions = {
        zoom: 8,
        center: latlng,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };
      var map = new google.maps.Map(document.getElementById("map_canvas"),
          myOptions);
    }
  </script>  
{% endblock %}

{% block body %}
  <h2>Surf Spot</h2>

  <style type="text/css">
    html { height: 100%; width:100% }
    body { height: 100%; margin: 0px; padding: 0px }
    map_canvas { height: 50%; width: 50% }
  </style>


  <form action="" method=post onload="initialize()">
    <dl>
      <dt>Name:
      <dd><input type=text name=name size=30 value="{{ spot.name }}">
      <dt>Longitude:
      <dd><input type=text name=longitude size=30 value="{{ spot.loc[0] }}">
      <dt>Latitude:
      <dd><input type=text name=latitude size=30 value="{{ spot.loc[1] }}">
      <dt>Buoy:
      <dd>{{ spot.buoy._id|default('No buoy assigned') }}
        <input type=hidden name=buoy_id value="{{ spot.buoy._id }}">
      <dt>Description:
      <dd><textarea cols=50 rows=6 name=description>{{ spot.description }}</textarea>
    </dl>
    <div class=actions><input type=submit value="Submit"></div>
  </form>
<iframe width="500" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" 
src="http://maps.google.com/maps/ms?ie=UTF8&amp;hl=en&amp;t=h&amp;om=1&amp;msa=0&amp;msid=207124152362853563418.000001119b508c32fd79f&amp;source=embed&amp;ll={{ spot.loc[1] }},{{ spot.loc[0] }}&amp;spn=0.008485,0.010729&amp;output=embed">
</iframe>
  
{% endblock %}
